# C++ Tutorial Code Style Guide

Standards for writing educational C++ code that prioritizes clarity over performance.

## File Header

Every tutorial file begins with:

```cpp
/**
 * @file example.cpp
 * @brief [One-line description of what this demonstrates]
 * 
 * Tutorial: [Topic Name]
 * 
 * This file demonstrates [concept] using a straightforward implementation.
 * For the optimized production version, see: [path/to/production/code.h]
 * 
 * Mathematical Background:
 *   [Key formula or theorem, e.g., "DFT: X[k] = Σ x[n] * e^(-2πikn/N)"]
 * 
 * Compile: g++ -std=c++17 -o example example.cpp
 * Run:     ./example
 * 
 * @author Generated by Claude for [Project Name]
 * @date [YYYY-MM-DD]
 */
```

## Function Documentation

Every function includes:

```cpp
/**
 * @brief [One-line summary]
 * 
 * [Detailed explanation of what the function does and WHY]
 * 
 * Algorithm:
 *   1. [Step one explanation]
 *   2. [Step two explanation]
 *   ...
 * 
 * Mathematical basis:
 *   [Formula in plain text or LaTeX-style: sum_{i=0}^{n} a_i]
 * 
 * Time Complexity: O([complexity]) - [brief justification]
 * Space Complexity: O([complexity]) - [what memory is used]
 * 
 * @param[in]  param1  Description of input parameter
 * @param[out] param2  Description of output parameter
 * @param[in,out] param3  Description of modified parameter
 * @return Description of return value
 * 
 * @note [Any important caveats or assumptions]
 * @see [Related functions or production equivalents]
 * 
 * Example:
 * @code
 *   auto result = function_name(input);
 *   // result contains [expected output]
 * @endcode
 */
```

## Inline Comments

### Mathematical Operations

```cpp
// Compute the magnitude: |z| = sqrt(real² + imag²)
double magnitude = std::sqrt(real * real + imag * imag);

// Apply rotation by angle θ:
//   x' = x·cos(θ) - y·sin(θ)
//   y' = x·sin(θ) + y·cos(θ)
double x_new = x * cos_theta - y * sin_theta;
double y_new = x * sin_theta + y * cos_theta;
```

### Loop Invariants

```cpp
// Loop invariant: sum contains the total of elements [0, i)
// Termination: i increases each iteration, bounded by n
for (size_t i = 0; i < n; ++i) {
    sum += data[i];
}
// Post-condition: sum contains total of all n elements
```

### Algorithm Steps

```cpp
// === PHASE 1: Initialization ===
// Set up data structures for the algorithm

// === PHASE 2: Main computation ===
// Process each element according to [algorithm name]

// === PHASE 3: Finalization ===
// Combine results and prepare output
```

## Code Structure Patterns

### Simple Class for Tutorial

```cpp
/**
 * @class SimpleName
 * @brief Educational implementation of [concept]
 * 
 * This class demonstrates [what] without production optimizations.
 * Production equivalent: [namespace::OptimizedClass]
 * 
 * Key differences from production:
 * - Uses dense storage (production uses sparse)
 * - O(n²) algorithm (production uses O(n log n))
 * - No SIMD vectorization
 */
class SimpleName {
public:
    // ============================================================
    // Construction
    // ============================================================
    
    /**
     * @brief Construct with given size
     * @param size Number of elements
     */
    explicit SimpleName(size_t size);
    
    // ============================================================
    // Core Operations
    // ============================================================
    
    /**
     * @brief Perform the main operation
     */
    void compute();
    
private:
    // ============================================================
    // Data Members
    // ============================================================
    
    std::vector<double> data_;  ///< Storage for [what]
    size_t size_;               ///< Number of elements
};
```

### Main Function Template

```cpp
int main() {
    std::cout << "=== [Topic] Tutorial ===" << std::endl;
    std::cout << "Demonstrating: [what this shows]" << std::endl;
    std::cout << std::endl;
    
    // --------------------------------------------------------
    // Setup: Create test data
    // --------------------------------------------------------
    std::cout << "1. Creating test data..." << std::endl;
    // [setup code]
    
    // --------------------------------------------------------
    // Execute: Run the algorithm
    // --------------------------------------------------------
    std::cout << "2. Running algorithm..." << std::endl;
    // [algorithm code]
    
    // --------------------------------------------------------
    // Verify: Check results
    // --------------------------------------------------------
    std::cout << "3. Verifying results..." << std::endl;
    // [verification code]
    
    // --------------------------------------------------------
    // Display: Show output
    // --------------------------------------------------------
    std::cout << std::endl;
    std::cout << "Results:" << std::endl;
    // [output code]
    
    std::cout << std::endl;
    std::cout << "Tutorial complete. See README.md for explanation." << std::endl;
    
    return 0;
}
```

## Naming Conventions

| Element | Convention | Example |
|---------|------------|---------|
| Functions | `snake_case`, descriptive verbs | `compute_fft()`, `multiply_matrices()` |
| Classes | `PascalCase`, noun phrases | `SimpleMatrix`, `DFTCalculator` |
| Variables | `snake_case`, meaningful names | `input_signal`, `frequency_bins` |
| Constants | `SCREAMING_SNAKE_CASE` | `MAX_ITERATIONS`, `EPSILON` |
| Template params | Single uppercase or descriptive | `T`, `ValueType` |

## Forbidden Patterns (for tutorials)

Avoid these in tutorial code—use simpler alternatives:

| Avoid | Use Instead | Reason |
|-------|-------------|--------|
| SIMD intrinsics | Scalar loops | Readability |
| Template metaprogramming | Concrete types | Clarity |
| Pointer arithmetic | Array indexing | Safety, clarity |
| Bit manipulation tricks | Standard operations | Understandability |
| Cache-oblivious layouts | Simple row-major | Conceptual simplicity |
| Custom allocators | `std::vector` | Focus on algorithm |

## CMakeLists.txt Template

```cmake
cmake_minimum_required(VERSION 3.14)
project([TopicName]Tutorial CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Tutorial executable - simple, no optimizations for debugging clarity
add_executable(example example.cpp)

# Enable warnings to catch issues
target_compile_options(example PRIVATE
    $<$<CXX_COMPILER_ID:GNU,Clang>:-Wall -Wextra -Wpedantic>
    $<$<CXX_COMPILER_ID:MSVC>:/W4>
)

# Optional: Add sanitizers for development
option(ENABLE_SANITIZERS "Enable ASan and UBSan" OFF)
if(ENABLE_SANITIZERS)
    target_compile_options(example PRIVATE -fsanitize=address,undefined)
    target_link_options(example PRIVATE -fsanitize=address,undefined)
endif()
```